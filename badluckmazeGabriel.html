

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <title>Bad Luck Maze</title>
    <link rel="stylesheet" href="badluckmaze.css">
	<script src="http://code.createjs.com/createjs-2013.05.14.min.js"></script>
	<script>
	var stage;
	var queue;

function init() {
stage = new createjs.Stage("myCanvas");
queue = new createjs.LoadQueue();
queue.installPlugin(createjs.Sound);
queue.addEventListener("complete", handleComplete);
queue.loadManifest([{id:"player", src:"assets/player.png"}, {id:"diceRoll", src:"assets/diceRoll.mp3"}]);
}

function handleComplete(event)
{
	var ball = new createjs.Shape();
	ball.addEventListener("click", handleClick);
	ball.graphics.beginFill("000000").drawCircle(0, 0, 30);
	ball.x = 50;
	ball.y = 200;
	
	
	ball.addEventListener("mousedown", function(evt) {
    // add handlers directly to the event object:
    evt.addEventListener("mousemove", function(evt) {
        evt.target.x = evt.stageX;
        evt.target.y = evt.stageY;
    });
    evt.addEventListener("mouseup", function(evt) {
	ball.graphics.beginFill("000000").drawCircle(0, 0, figureOutPerspectiveWidth(evt.target.y, 50)); })
	
})

	//createjs.Tween.get(ball, {loop:true}).to({x:450}, 3000).to({x:50}, 3000);
	createjs.Ticker.addEventListener("tick", tick);

	stage.addChild(ball);
	//stage.update();
} 

function figureOutPerspectiveWidth(y, width)
{
	console.log(width + " " + y)
	return 40 ;
}

function tick(event){
stage.update();
}

function handleClick(event){
//var bmp = new createjs.Bitmap(queue.getResult("player"));
//bmp.x = Math.random()*500;
//bmp.y = Math.random()*500;

//stage.addChild(bmp);

//createjs.Sound.play("diceRoll");

}
</script>
  </head>
  <body onload="init()">
  
<canvas id="myCanvas" width="1000" height="1000"
style="border:1px solid #000000;">
</canvas>
  </body>
</html>
